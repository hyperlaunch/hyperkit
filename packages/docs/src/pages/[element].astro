---
import { getCollection } from "astro:content";
import JumpLinks from "../astro-components/JumpLinks.astro";
import Layout from "../astro-components/Layout.astro";

export const prerender = true;

export async function getStaticPaths() {
  const entries = await getCollection("hyperkit-elements");
  return entries.map((entry) => ({
    params: { element: entry.slug },
    props: { entry },
  }));
}

const { entry } = Astro.props;
const { name, tagline } = entry.data;
const { Content } = await entry.render();
---

<Layout>
  <header class="w-full max-w-4xl mb-6">
    <div class="max-w-2xl">
      <h1
        class="text-4xl lg:text-5xl xl:text-6xl font-black text-black dark:text-white"
      >
        {name}
      </h1>
      <h2 class="mt-4 lg:mt-4 xl:mt-6 text-xl lg:text-2xl xl:text-32xl">
        {tagline}
      </h2>
    </div>
  </header>
  <div
    class="lg:flex lg:items-start lg:gap-8 xl:gap-10 2xl:gap-12 w-full max-w-4xl"
  >
    <main>
      <div
        class="prose prose-sm dark:prose-invert scroll-mt-10 flex-grow w-full max-w-3xl"
        id="element-docs"
      >
        <Content />
      </div>
    </main>
    <aside
      class="hidden lg:block sticky lg:top-4 xl:top-6 2xl:top-8 max-h-[100svh] overflow-auto flex-shrink mt-4 max-w-48"
    >
      <JumpLinks targetElementId="element-docs" />
    </aside>
  </div>
</Layout>
