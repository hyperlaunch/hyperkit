---
import { getCollection } from "astro:content";
import JumpLinks from "../astro-components/JumpLinks.astro";
import Layout from "../astro-components/Layout.astro";

export const prerender = true;

export async function getStaticPaths() {
  const entries = await getCollection("hyperkit-elements");
  return entries.map((entry) => ({
    params: { element: entry.slug },
    props: { entry },
  }));
}

const { entry } = Astro.props;
const { name, tagline } = entry.data;
const { Content } = await entry.render();
---

<Layout>
  <div class="lg:flex lg:items-start lg:gap-8 xl:gap-10 2xl:gap-12">
    <main>
      <header class="w-full max-w-2xl mb-6">
        <h1
          class="text-4xl lg:text-5xl xl:text-6xl font-black text-black dark:text-white"
        >
          {name}
        </h1>
        <h2 class="mt-4 lg:mt-4 xl:mt-6 text-xl lg:text-2xl xl:text-32xl">
          {tagline}
        </h2>
      </header>
      <div
        class="prose prose-sm dark:prose-invert w-full max-w-2xl scroll-mt-10"
        id="element-docs"
      >
        <Content />
      </div>
    </main>
    <aside
      class="hidden lg:block sticky lg:top-8 xl:top-10 2xl:top-12 max-h-[100svh] overflow-auto max-w-64"
    >
      <JumpLinks targetElementId="element-docs" />
    </aside>
  </div>
</Layout>
